#!/usr/bin/env php
<?php

require __DIR__ . '/../src/Composer/Composer.php';
require __DIR__ . '/../src/Autoload/Autoload.php';
require __DIR__ . '/../src/Package/Package.php';

use Cross\Application\Application;
use Cross\Autoload\Autoload;
use Cross\Composer\Composer;
use Cross\Package\Package;

// Composer
$composer = new Composer();

// Autoload
$autoload = new Autoload($composer->getVendorDirectory());
$autoload->run();

// Package
$package = new Package();

// Application
$application = new Application($composer->getDescription(), $composer->getVersion());
$application->plugins($package->getPlugins());
$application->commands($package->getCommands());
$application->run();
