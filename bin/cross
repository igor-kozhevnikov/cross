#!/usr/bin/env php
<?php

require __DIR__ . '/../prepend.php';

use Quizory\Cross\Application\Application;
use Quizory\Cross\Config\Config;
use Quizory\Cross\Composer\Package;
use Quizory\Cross\Composer\Project;

$project = new Project();
$project->autoload();
$project->plugins();

$package = new Package();
$application = new Application($package->getDescription(), $package->getVersion());

foreach (Config::all() as $space) {
    $commands = $space['commands'] ?? [];
    $commands = array_reverse($commands);
    $application->set($commands);
}

$application->run();
